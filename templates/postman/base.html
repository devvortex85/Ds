{% extends "core/base.html" %}
{% load static %}
{% load i18n %}
{% load core_tags %}

{% block title %}{% trans "Messages" %}{% endblock %}

{% block content %}
<div class="container my-4">
    <div class="row">
        <div class="col-md-3">
            <div class="list-group mb-4">
                <a href="{% url 'postman:inbox' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'inbox' %}active{% endif %}">
                    {% trans "Inbox" %}
                    {% unread_message_count user as unread_count %}
                    {% if unread_count %}<span class="badge bg-danger float-end">{{ unread_count }}</span>{% endif %}
                </a>
                <a href="{% url 'postman:sent' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'sent' %}active{% endif %}">{% trans "Sent" %}</a>
                <a href="{% url 'postman:archives' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'archives' %}active{% endif %}">{% trans "Archives" %}</a>
                <a href="{% url 'postman:trash' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'trash' %}active{% endif %}">{% trans "Trash" %}</a>
                <a href="{% url 'postman:write' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'write' %}active{% endif %}">{% trans "Write" %}</a>
            </div>
        </div>
        <div class="col-md-9">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">{% block pm_headerblock %}{% trans "Messages" %}{% endblock %}</h2>
                </div>
                <div class="card-body">
                    {% block pm_body %}
                    {% endblock %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
