{% load static %}

<!-- New social share buttons implementation -->
<div class="social-share-buttons d-flex">
    <!-- Facebook -->
    <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" 
       target="_blank" 
       class="btn btn-outline-primary btn-sm me-2 social-share-btn facebook-share"
       rel="noopener noreferrer">
        <i class="fab fa-facebook-f me-1"></i> Share
    </a>
    
    <!-- Twitter -->
    <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ post.title|urlencode }}" 
       target="_blank" 
       class="btn btn-outline-info btn-sm me-2 social-share-btn twitter-share"
       rel="noopener noreferrer">
        <i class="fab fa-twitter me-1"></i> Tweet
    </a>
    
    <!-- LinkedIn -->
    <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ request.build_absolute_uri }}" 
       target="_blank" 
       class="btn btn-outline-secondary btn-sm me-2 social-share-btn linkedin-share"
       rel="noopener noreferrer">
        <i class="fab fa-linkedin-in me-1"></i> Share
    </a>
    
    <!-- Email -->
    <a href="mailto:?subject={{ post.title|urlencode }}&body={{ request.build_absolute_uri }}" 
       class="btn btn-outline-dark btn-sm me-2 social-share-btn email-share">
        <i class="fas fa-envelope me-1"></i> Email
    </a>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Add click event listeners to all share buttons
    const shareButtons = document.querySelectorAll('.social-share-btn');
    shareButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            if (this.classList.contains('email-share')) {
                // Don't prevent default for email links
                return;
            }
            
            e.preventDefault();
            const url = this.getAttribute('href');
            window.open(url, 'share-popup', 'height=500,width=600');
            return false;
        });
    });
});
</script>
